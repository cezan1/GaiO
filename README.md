# GAIO项目 - DDD 架构说明

本项目按照领域驱动设计（DDD）思想进行目录划分，以下是目录结构及使用说明：

## 目录结构

```
GAio/
├── cmd/
│   └── server/
│       └── main.go          # 应用入口文件
├── internal/                # 项目内部代码
│   ├── api/                 # API 层
│   │   └── http/            # HTTP API 层
│   ├── application/         # 应用层
│   ├── domain/              # 领域层
│   │   ├── model/           # 领域模型
│   │   ├── repository/      # 领域仓库接口
│   │   └── service/         # 领域服务
│   └── infrastructure/      # 基础设施层
│       ├── persistence/     # 数据持久化实现
│       └── web/             # Web 框架相关实现
├── pkg/                     # 可复用的工具包
└── go.mod
└── go.sum
```

## 各层说明及使用建议

### `cmd`

- **用途**：存放应用入口文件，每个可执行程序对应一个子目录。
- **使用**：`main.go` 负责初始化依赖、启动服务。

### `internal`

#### `api/http`

- **用途**：处理 HTTP 请求和响应，实现路由和控制器。
- **使用**：定义 API 接口，调用应用层服务处理业务逻辑。

#### `application`

- **用途**：协调领域层完成业务流程，处理事务和权限。
- **使用**：定义应用服务，编排领域服务和仓库。

#### `domain`

- **用途**：存放核心业务逻辑和领域模型。
- **使用**：
  - `model`：定义实体、值对象和聚合根。
  - `repository`：定义领域仓库接口，不包含具体实现。
  - `service`：实现领域服务，处理跨实体的业务逻辑。

#### `infrastructure`

- **用途**：提供基础设施支持，如数据库、缓存、消息队列等。
- **使用**：
  - `persistence`：实现领域仓库接口，完成数据持久化。
  - `web`：集成 Web 框架，配置中间件和路由。

### `pkg`

- **用途**：存放可复用的工具包，如日志、配置解析等。
- **使用**：在项目各层中引入并使用这些工具。

## 目录结构优势

1. **关注点分离**：各层职责明确，`domain` 层专注核心业务逻辑，`api` 层处理接口请求，`infrastructure` 层负责底层实现，降低模块间耦合度。
2. **可维护性**：修改某一层代码不会影响其他层，查找和修复问题更高效，新功能开发也更容易集成。
3. **可测试性**：每层都能独立测试，领域模型和业务逻辑可脱离基础设施进行单元测试。
4. **可扩展性**：添加新功能或更换基础设施（如数据库）时，只需修改对应层代码，不影响整体架构。
5. **团队协作**：清晰的结构使团队成员明确分工，不同成员可同时开发不同层代码。
